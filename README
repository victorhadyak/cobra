<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>File Upload</title>
</head>
<body>
    <div class="container">
        <h1>File Upload to CloudFront</h1>
        <input type="file" id="fileUpload">
        <button id="uploadButton">Upload File</button>
        <div id="uploadStatus"></div>
    </div>

    <script>
        // JavaScript code goes here
    </script>
</body>
</html>

document.addEventListener('DOMContentLoaded', (event) => {
    const distributionDomain = 'https://qwerty.domain.cloudfront.net/upload';
    const fileInput = document.getElementById('fileUpload');
    let file;

    fileInput.addEventListener('change', (e) => {
        file = e.target.files[0];
    });

    const uploadButton = document.getElementById('uploadButton');
    uploadButton.addEventListener('click', async () => {
        try {
            const fileName = file.name;
            const signedUrl = `${distributionDomain}/${fileName}`;
            
            const response = await fetch(signedUrl, {
                method: 'PUT',
                headers: {
                    "Content-Type": file.type
                },
                body: file
            });

            if (!response.ok) {
                throw new Error('Upload failed');
            }

            document.getElementById('uploadStatus').innerText = 'File uploaded successfully!';
        } catch (error) {
            console.error(error);
            document.getElementById('uploadStatus').innerText = 'Failed to upload file.';
        }
    });
});
